<div class="color-picker-dialog">
  <div class="current-color">
    <label>Current Color:</label>
    <div id="color-preview" style="
      width: 50px; 
      height: 30px; 
      border: 2px solid #ccc; 
      border-radius: 4px; 
      background-color: {{currentColor}};
      display: inline-block;
      margin-left: 10px;
    "></div>
  </div>
  
  <div class="color-palette" style="margin: 15px 0;">
    <label>Choose a color:</label>
    <div style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 5px; margin-top: 10px;">
      {{#each colors}}
      <div class="color-swatch" 
           data-color="{{this}}" 
           style="
             width: 25px; 
             height: 25px; 
             background-color: {{this}}; 
             border: 2px solid #ccc; 
             border-radius: 3px; 
             cursor: pointer;
             transition: transform 0.1s;
           "
           title="{{this}}">
      </div>
      {{/each}}
    </div>
  </div>
  
  <div class="custom-color" style="margin: 15px 0;">
    <label for="custom-color">Custom Color:</label>
    <input type="text" 
           id="custom-color" 
           value="{{currentColor}}" 
           placeholder="#8f0000"
           style="
             margin-left: 10px;
             padding: 4px;
             width: 80px;
             font-family: monospace;
           ">
  </div>
  
  <div class="dialog-buttons" style="text-align: right; margin-top: 20px;">
    <button type="button" id="cancel-color" style="
      padding: 6px 12px;
      margin-right: 10px;
      background: #666;
      border: 1px solid #888;
      color: white;
      border-radius: 3px;
      cursor: pointer;
    ">Cancel</button>
    <button type="button" id="apply-color" style="
      padding: 6px 12px;
      background: #4b4a44;
      border: 1px solid #7a7971;
      color: white;
      border-radius: 3px;
      cursor: pointer;
    ">Apply</button>
  </div>
</div>

<style>
.color-swatch:hover {
  transform: scale(1.1);
  border-color: #fff !important;
}

.color-swatch.selected {
  border-color: #fff !important;
  box-shadow: 0 0 5px rgba(255,255,255,0.8);
}

.color-picker-dialog label {
  color: #ccc;
  font-weight: bold;
}
</style>